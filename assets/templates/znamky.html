<div id="znamky">
    <div class="subject" ng-repeat="subject in data.znamky">
        <div class="info" ng-click="toggleItem($index)">
            <div class="icon" ng-style="assignIcon(data.predmety[$index])">{{shorten(data.predmety[$index])}}</div>
            <header>
                <h1>{{data.predmety[$index]}}</h1>
                <h2>Poslední známka ({{subject[subject.length - 1].date}}):
                    <strong ng-if="subject[subject.length - 1].caption.length > 0">{{subject[subject.length - 1].caption}} - </strong>
                    <span class="mark">{{subject[subject.length - 1].mark}}</span></h2>
            </header>
            <span class="average active" ng-class="getAverageColor(subject)">{{calculateAverage(subject)}}</span>
        </div>
        
        <div class="marks" ng-class="{visible: isVisible($index)}">
            <ul>
                <li ng-repeat="mark in subject">
                    <span class="date">{{mark.date}}</span>
                    <span class="mark">{{mark.mark}}</span>
                    <span class="caption" ng-class="{tooltip: mark.note.length > 0}" data-tooltip="{{mark.note}}">{{mark.caption}}</span>
                </li>
            </ul>
            <div class="chart">

            </div>
        </div>
    </div>
</div>